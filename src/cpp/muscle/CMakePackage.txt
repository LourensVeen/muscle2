GET_FILENAME_COMPONENT( CURRENT_DIR_TMP  ${CMAKE_CURRENT_LIST_FILE} PATH) 

FILE( GLOB MUSCLE_SRCS1 ${CURRENT_DIR_TMP}/*.h         ${CURRENT_DIR_TMP}/*.cpp        )
FILE( GLOB MUSCLE_SRCS2 ${CURRENT_DIR_TMP}/access/*.h  ${CURRENT_DIR_TMP}/access/*.cpp )
FILE( GLOB MUSCLE_SRCS3 ${CURRENT_DIR_TMP}/logging/*.h ${CURRENT_DIR_TMP}/logging/*.cpp)

SOURCE_GROUP("muscle"         FILES ${MUSCLE_SRCS1} )
SOURCE_GROUP("muscle/access"  FILES ${MUSCLE_SRCS2} )
SOURCE_GROUP("muscle/logging" FILES ${MUSCLE_SRCS3} )
     
# make sure the compiler can find include files for Java JNI
INCLUDE(${CURRENT_DIR_TMP}/FindJNI.cmake)
include_directories(${JAVA_INCLUDE_PATH}) # for jni.h
include_directories(${JAVA_INCLUDE_PATH2}) # for jni_md.h

#verzeichnis als std-inklude adden
INCLUDE_DIRECTORIES( ${CURRENT_DIR_TMP} )

ADD_LIBRARY(muscle STATIC ${MUSCLE_SRCS1} ${MUSCLE_SRCS2} ${MUSCLE_SRCS3})
SET(ADDITIONAL_LINK_LIBRARIES ${ADDITIONAL_LINK_LIBRARIES} muscle)
     
IF(WIN32)
	SET_TARGET_PROPERTIES(muscle PROPERTIES COMPILE_FLAGS "-D_CRT_SECURE_NO_WARNINGS")
	SET_TARGET_PROPERTIES(muscle PROPERTIES COMPILE_FLAGS "/MT")
   SET(ADDITIONAL_LINK_PROPS_DEBUG "${ADDITIONAL_LINK_PROPS_DEBUG} /NODEFAULTLIB:\"LIBCMT\"") 
ENDIF()





